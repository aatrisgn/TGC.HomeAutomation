apiVersion: batch/v1
kind: CronJob
metadata:
  name: hourly-acr-job-cron
  namespace: homeautomation
spec:
  schedule: "0 * * * *"  # Runs every hour
  timezone: "UTC"
  jobTemplate:
    spec:
      template:
        metadata:
          annotations:
            azure.workload.identity/client-id: 19ec7ba5-8986-4d46-84a3-c27524ceb2b6

        spec:
          containers:
          - name: test-console-job
            image: tgclzdevacr.azurecr.io/tgc-ha-test-console:latest
          restartPolicy: OnFailure
          nodeSelector:
            agentpool: workload
          serviceAccountName: my-cronjob-sa