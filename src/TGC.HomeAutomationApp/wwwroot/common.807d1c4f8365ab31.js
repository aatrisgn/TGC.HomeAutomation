"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[76],{2217:(D,r,s)=>{s.d(r,{A:()=>h});var a=s(2686),l=s(9262),e=s(4438),_=s(177),d=s(3413),v=s(3391);function p(n,m){if(1&n){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"i",4),e.bIt("click",function(){const c=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.generateNewApiKey(c.id))}),e.k0s()(),e.j41(9,"td")(10,"i",5),e.bIt("click",function(){const c=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.getLatestOrderedMeasuresForDevice(c.id))}),e.k0s()(),e.j41(11,"td")(12,"i",6),e.bIt("click",function(){const c=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.deleteDevice(c.id))}),e.k0s()()()}if(2&n){const t=m.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.macAddress),e.R7$(2),e.JRh(t.created)}}let h=(()=>{class n{constructor(t,i){this.deviceClient=t,this.measureClient=i,this.deviceData=[]}ngOnInit(){this.loadDevices()}loadDevices(){this.deviceClient.getAllDevices().subscribe(t=>{this.deviceData=t})}generateNewApiKey(t){var i=new a.Tc;i.expirationDate=new Date,i.name="SomeName",this.deviceClient.updateApiKey(t,i).subscribe(c=>{console.log(c)})}getLatestOrderedMeasuresForDevice(t){this.measureClient.getLatestActivityByDeviceId(t).subscribe(i=>{console.log(i)})}deleteDevice(t){console.log(t),this.deviceClient.deleteDevice(t).subscribe(i=>{this.loadDevices()})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(a.S4),e.rXU(a.Yf))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-device-table"]],features:[e.Jv_([a.S4,a.Yf])],decls:16,vars:2,consts:[["cardTitle","Devices","blockClass","table-border-style",3,"options"],[1,"table-responsive"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],["ngbTooltip","Generate new API Key",1,"delete-device-btn","feather","icon-lock",3,"click"],["ngbTooltip","Latest measures",1,"delete-device-btn","feather","icon-activity",3,"click"],["ngbTooltip","Delete",1,"delete-device-btn","feather","icon-trash-2",3,"click"]],template:function(i,c){1&i&&(e.j41(0,"app-card",0)(1,"div",1)(2,"table",2)(3,"thead")(4,"tr")(5,"th"),e.EFF(6,"Name"),e.k0s(),e.j41(7,"th"),e.EFF(8,"MacAddress"),e.k0s(),e.j41(9,"th"),e.EFF(10,"Created"),e.k0s(),e.nrm(11,"th")(12,"th")(13,"th"),e.k0s()(),e.j41(14,"tbody"),e.DNE(15,p,13,3,"tr",3),e.k0s()()()()),2&i&&(e.Y8G("options",!1),e.R7$(15),e.Y8G("ngForOf",c.deviceData))},dependencies:[l.G,_.Sq,d.i,v.md],styles:[".delete-device-btn[_ngcontent-%COMP%]:hover{cursor:pointer;color:#add8e6}"]})}return n})()}}]);